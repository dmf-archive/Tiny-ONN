# Tiny-ONN-ARC 工程备忘录

## 系统架构

训练流程和架构已经正式更新为 SPL with EA-SAPS，参见 [./SPL.md](./SPL.md)

## 工程约束笔记

- **约束 1: 单任务多视角梯度流 (Unitary Task Multi-View Gradient Flow)**

  - **规定**: `batch_size = 1`。训练循环中，单个任务的 8 个 D₈ 对称变换视图被**依次独立处理**，每个视图都执行一次完整的前向和反向传播，如同一个独立的训练步骤。
  - **理论依据**: `L_meta` 的计算依赖于 `L_task` 的梯度。若批次中混合来自不同抽象规则的任务（`T₁`, `T₂`），其 `∇L_task` 信号将相互冲突，产生破坏性的、无意义的“惊奇”度量，从而使门控的自组织过程失效。将多视角作为独立步骤可提供更稳定和多样化的梯度信号。

- **约束 2: 高学习率 (High Learning Rate)**

  - **规定**: 对不同参数组使用差分学习率。基础权重使用较低学习率（`3e-3`），而元参数（`sigma_weight`, `gate_param`）使用更高的学习率（`3e-2`）。
  - **理论依据**: `L_meta` 和 `L_reg` 作用于模型的元参数 (`gate_param`, `sigma_weight`)。这些参数的更新依赖于二阶或更高阶的梯度信息，其梯度信号强度天然弱于一阶的任务梯度。需要足够高的学习率才能有效驱动元参数的学习。
